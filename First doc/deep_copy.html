<script>
    // links to watch theory
    // https://www.youtube.com/watch?v=6napu-MGQDo&list=PLcvhF2Wqh7DNVy1OCUpG3i5lyxyBWhGZ8&index=47
    // https://www.youtube.com/watch?v=I8LNJpG60vI&feature=youtu.be

    // 1. Simple object
    let man = {
        name: 'John',
        age: 28
    };

    let manFullCopy = {...man} //  is done


    // 2. Array of primitives
    let numbers = [1, 2, 3];

    let numbersFullCopy = [...numbers] //  is done


    // 3. Object inside an object
    let man1 = {
        name: 'John',
        age: 28,
        mother: {
            name: 'Kate',
            age: 50
        }
    };

    let man1FullCopy = {
        ...man1,
        mother: {...man1.mother}
    } // is done

    // 4. Array of primitives inside an object
    let man2 = {
        name: 'John',
        age: 28,
        friends: ["Peter", "Steven", "William"]
    };

    let man2FullCopy = {
        ...man2,
        friends: [...man2.friends]
    } // is done


    // 5 Array of objects
    let people = [
        {name: "Peter", age: 30},
        {name: "Steven", age: 32},
        {name: "William", age: 28}
    ];


    let peopleFullCopy = people.map(el => ({...el})) // is done


    // 6 Array of objects inside object
    let man3 = {
        name: 'John',
        age: 28,
        friends: [
            {name: "Peter", age: 30},
            {name: "Steven", age: 32},
            {name: "William", age: 28}
        ]
    };

    let man3FullCopy = {
        ...man3,
        friends: man3.friends.map(e => ({...e}))
    } //  is done


    // 7 Object inside an object, inside an object
    let man4 = {
        name: 'John',
        age: 28,
        mother: {
            name: "Kate",
            age: 50,
            work: {
                position: "doctor",
                experience: 15
            }
        }
    };

    let man4FullCopy = {
        ...man4,
        mother: {
            ...man4.mother,
            work: {...man4.mother.work}
        }
    } //  is done

    // 8 Array of objects inside object -> object
    let man5 = {
        name: 'John',
        age: 28,
        mother: {
            name: "Kate",
            age: 50,
            work: {
                position: "doctor",
                experience: 15
            },
            parents: [
                {name: "Kevin", age: 80},
                {name: "Jennifer", age: 78},
            ]
        }
    };

    let man5FullCopy = {
        ...man5,
        mother: {
            work: {
                ...man5.mother.work
            },
            parents: man5.mother.parents.map(el => ({...el}))
        }
    } //  is done


    // 9 Object inside an object -> array -> object ->  object
    let man6 = {
        name: 'John',
        age: 28,
        mother: {
            name: "Kate",
            age: 50,
            work: {
                position: "doctor",
                experience: 15
            },
            parents: [
                {
                    name: "Kevin",
                    age: 80,
                    favoriteDish: {
                        title: "borscht"
                    }
                },
                {
                    name: "Jennifer",
                    age: 78,
                    favoriteDish: {
                        title: "sushi"
                    }
                },
            ]
        }
    };

    let man6FullCopy  = {
        ...man6,
        mother: {
            ...man6.mother,
            work: {...man6.mother.work},
            parents: man6.mother.parents.map(el => ({
                ...el,
                favoriteDish: {...el.favoriteDish}
            }))
        }
    } //  is done


    //10 Array of objects inside an object -> object -> array -> object ->  object
    let man7 = {
        name: 'John',
        age: 28,
        mother: {
            name: "Kate",
            age: 50,
            work: {
                position: "doctor",
                experience: 15
            },
            parents: [
                {
                    name: "Kevin",
                    age: 80,
                    favoriteDish: {
                        title: "borscht",
                        ingredients: [
                            {title: "beet", amount: 3},
                            {title: "potatoes", amount: 5},
                            {title: "carrot", amount: 1},
                        ]
                    }
                },
                {
                    name: "Jennifer",
                    age: 78,
                    favoriteDish: {
                        title: "sushi",
                        ingredients: [
                            {title: "fish", amount: 1},
                            {title: "rise", amount: 0.5}
                        ]
                    }
                },
            ]
        }
    };

    let man7FullCopy  = {
        ...man7,
        mother: {
            ...man7.mother,
            work: {
                ...man7.mother.work
            },
            parents: man7.mother.parents.map(el => ({
                ...el,
                favoriteDish: {
                    ...el.favoriteDish,
                    ingredients: el.favoriteDish.ingredients.map(e => ({...e}))
                }
            }))
        }
    } //  is done
    //1. сортирует строки из коробки без всяких параметров
//2. сортирует буквы и числа по алфавиту/порядку в зависимотчи от таблицы символов Юникода( в которой есть порядок как раз что за чем идет)
//3. Работает мутабельно
//4. Возвращает ссылку на исходный массив

// const str = ['alex', 'roma', 'boog', 'Alimov', 584, 'Саша', 'юра']
// console.log(str.sort() === str)
//
// const numbers = [123, '+20', -300, 77, 99]
// console.log(numbers.sort())
//
// const compareFn = (a, b) => { //по возрастанию сортируем
//     if (a > b) { // надо поменять местами
//         return 5567
//     } else { // не надо перетавлять
//         return -1234
//     }
// }
//
// console.log(numbers.sort((a, b) => a - b))
// console.log(numbers.reverse())
//
// const students = [
//     {
//         name: "Bob",
//         age: 22,
//         isMarried: true,
//         scores: 95
//     },
//     {
//         name: "Alex",
//         age: 24,
//         isMarried: true,
//         scores: 89
//     },
//     {
//         name: "Helge",
//         age: 24,
//         isMarried: true,
//         scores: 90
//     },
//     {
//         name: "Nick",
//         age: 20,
//         isMarried: false,
//         scores: 120
//     },
//     {
//         name: "John",
//         age: 19,
//         isMarried: false,
//         scores: 121
//     },
//     {
//         name: "alex",
//         age: 22,
//         isMarried: true,
//         scores: 89
//     },
// ];
//
// const compareObjName = (a, b) => {
//     if (a.name > b.name) { // то переставляем местами
//         return +5854
//     } else {
//         return -1
//     }
// }
//
// console.log(students.sort((a, b) => a.name.localeCompare(b.name)))
//
// // по сисловым значениям
// console.log(students.sort((a, b) => a.scores - b.scores))
//
// const numbers1 = [67, 31, 12, 22]
//
// for (let j = 0; j < numbers1.length - 1; j++) {
//     let isSorted = true
//     for (let i = 0; i < numbers1.length - 1 - j; i++) {
//         if (numbers1[i] > numbers1[i + 1]) {
//             isSorted = false;
//             //меняем
//             // let temp = numbers1[i]
//             // numbers1[i] = numbers1[i + 1]
//             // numbers1[i + 1] = temp
//
//                [numbers1[i+1], numbers1[i]] = [numbers1[i], numbers1[i+1]]
//         }
//     }
//     if (isSorted) break
// }
//
// console.log(numbers1)

const students = [
    {
        name: "Bob",
        age: 22,
        isMarried: true,
        scores: 85,
    },
    {
        name: "Alex",
        age: 21,
        isMarried: true,
        scores: 90,
    },
    {
        name: "Nick",
        age: 20,
        isMarried: false,
        scores: 120,
    },
    {
        name: "John",
        age: 19,
        isMarried: false,
        scores: 100,
    },
    {
        name: "Helen",
        age: 20,
        isMarried: false,
        scores: 110,
    },
    {
        name: "Ann",
        age: 20,
        isMarried: false,
        scores: 105,
    },
];

const user = {
    name: "Bob",
    age: 23,
    isMarried: false,
    friends: ["Alex", "Nick", "John"],
};

const copyUser = {...user} // is done
// console.log(copyUser === user)
// console.log(copyUser.friends === user.friends)

//2 is done
const copyUser2 = { // is done
    ...user,
    friends: [...user.friends]
}
// console.log(copyUser2 === user)
// console.log(copyUser.friends2 === user.friends)

//3 is done
const copyStudents = [...students]
// console.log(copyStudents[3] === students[3])

//4 is done
const deepCopyStudents = students.map(el => ({...el}))
// console.log(deepCopyStudents[4] === students[4])

//5 is done
const sortByName = deepCopyStudents.sort((a, b) => a.name.localeCompare(b.name))
//console.log(sortByName)
//5.a is done
const sortByScores = deepCopyStudents.sort((a, b) => b.scores - a.scores)
// console.log(sortByScores)

//6 is done
const bestStudents = deepCopyStudents.filter(el => el.scores >= 100)
//console.log(bestStudents)
//6.a is done
const topStudents = deepCopyStudents.sort((a, b) => b.scores - a.scores).splice(0, 3)
//console.log(topStudents)
//6b is done
//const newDeepCopyStudents = topStudents.concat(deepCopyStudents)
const newDeepCopyStudents = [...topStudents, ...deepCopyStudents]
console.log(newDeepCopyStudents)

//7 is done
const notMarriedStudents = students.filter(el => el.isMarried === false)
console.log(notMarriedStudents)

//8 is done
const studentsName = students.map(el => el.name)
console.log(studentsName)
//8a is done
const nameWithSpace = studentsName.join(' ')
const nameWithComma = studentsName.join(', ')
console.log(nameWithSpace)
console.log(nameWithComma)

//9 is done
const trueStudents = students.map(s => ({...s, isStudent: true}))
console.log(trueStudents)

//10 is done
const studentsWithMarriedNick = students.map(s => s.name === "Nick"
    ? {...s, isMarried: true}
    : s
)
console.log(studentsWithMarriedNick)

//11 is done
const ann = students.filter(s => s.name === "Ann")
console.log(ann)

//12 - is done
const scoreSum = students.reduce((accum, currentValue) => accum.scores < currentValue.scores ? currentValue : accum
, students[0])
console.log(scoreSum)

//13 - is done
const scoresSum = students.reduce((accum,  currentValue) => accum + currentValue.scores, 0)
console.log(scoresSum)

//14 - is done
const addFriends = (students) => {
    const friends = students.map(s => s.name)
    const result = students.map(s => ({...s, friends: friends.filter(el => el!== s.name)}))
    return result
}
console.log(addFriends(students))

</script>
